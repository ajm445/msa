# 화면 설계서

## 문서 정보

| 항목 | 내용 |
|------|------|
| 문서명 | 화면 설계서 |
| 버전 | 1.0 |
| 작성일 | 2026-01-07 |
| 목적 | MSA 분석 AI 서비스 프론트엔드 UI 설계 |
| 기술 스택 | React |

---

## 1. 화면 구조

### 1.1 전체 구조

```
┌─────────────────────────────────────────────────────────────┐
│                        Header                               │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 🔷 MSA Analyzer                          [분석하기]  │   │
│  └─────────────────────────────────────────────────────┘   │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│                        Main Content                         │
│                                                             │
│                                                             │
│                                                             │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│                        Footer                               │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ © 2026 MSA Analyzer                                  │   │
│  └─────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────┘
```

### 1.2 페이지 목록

| 페이지 | 경로 | 설명 |
|--------|------|------|
| 메인 (분석 입력) | `/` | 코드 업로드 또는 텍스트 입력 |
| 분석 결과 | `/analysis/:id` | 분석 결과 상세 보기 |
| 저장된 분석 목록 | `/history` | 저장된 분석 결과 목록 (추후) |

---

## 2. 페이지 상세

### 2.1 메인 페이지 (분석 입력)

#### 와이어프레임

```
┌─────────────────────────────────────────────────────────────┐
│                        Header                               │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│     ┌───────────────────────────────────────────────┐      │
│     │                                               │      │
│     │        🔷 MSA 아키텍처 분석 서비스            │      │
│     │                                               │      │
│     │     프로젝트를 분석하여 MSA 설계를 제안합니다    │      │
│     │                                               │      │
│     └───────────────────────────────────────────────┘      │
│                                                             │
│     ┌─────────────────────────────────────────────────┐    │
│     │  [코드 업로드]        [텍스트 설명]              │    │
│     └─────────────────────────────────────────────────┘    │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │                                                     │   │
│  │    (탭 선택에 따라 내용 변경)                        │   │
│  │                                                     │   │
│  │                                                     │   │
│  │                                                     │   │
│  │                                                     │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│                      [분석 시작]                            │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│                        Footer                               │
└─────────────────────────────────────────────────────────────┘
```

#### 탭 1: 코드 업로드

```
┌─────────────────────────────────────────────────────────────┐
│                     코드 업로드 탭                           │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  언어/프레임워크 선택                                        │
│  ┌─────────────────────────────────────────────────────┐   │
│  │  ○ Java/Spring    ○ Node.js/Express    ○ React     │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  프로젝트 파일 업로드                                        │
│  ┌─────────────────────────────────────────────────────┐   │
│  │                                                     │   │
│  │     ┌─────────────────────────────────────┐        │   │
│  │     │                                     │        │   │
│  │     │      📁 파일을 드래그하거나          │        │   │
│  │     │         클릭하여 업로드              │        │   │
│  │     │                                     │        │   │
│  │     │      (.zip 파일, 최대 50MB)         │        │   │
│  │     │                                     │        │   │
│  │     └─────────────────────────────────────┘        │   │
│  │                                                     │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  추가 설명 (선택)                                            │
│  ┌─────────────────────────────────────────────────────┐   │
│  │                                                     │   │
│  │  프로젝트에 대한 추가 설명을 입력하세요...            │   │
│  │                                                     │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

#### 탭 2: 텍스트 설명

```
┌─────────────────────────────────────────────────────────────┐
│                     텍스트 설명 탭                           │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  언어/프레임워크 선택 (선택)                                  │
│  ┌─────────────────────────────────────────────────────┐   │
│  │  ○ Java/Spring    ○ Node.js/Express    ○ React     │   │
│  │  ○ 미정                                             │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  프로젝트 설명                                               │
│  ┌─────────────────────────────────────────────────────┐   │
│  │                                                     │   │
│  │  만들고 싶은 프로젝트를 자세히 설명해주세요.          │   │
│  │                                                     │   │
│  │  예시:                                              │   │
│  │  쇼핑몰을 만들려고 합니다. 회원가입, 상품 관리,       │   │
│  │  주문, 결제, 배송 추적 기능이 필요해요. 회원은        │   │
│  │  소셜 로그인도 지원하고, 결제는 카드와 계좌이체를     │   │
│  │  지원합니다.                                        │   │
│  │                                                     │   │
│  │                                                     │   │
│  │                                                     │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  ℹ️ 최소 50자 이상 입력해주세요.          현재: 0자         │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

#### 분석 중 상태

```
┌─────────────────────────────────────────────────────────────┐
│                                                             │
│                                                             │
│                                                             │
│                         ⏳                                  │
│                                                             │
│                    분석 중입니다...                          │
│                                                             │
│              프로젝트를 분석하고 있습니다.                    │
│              잠시만 기다려주세요.                             │
│                                                             │
│                    ████████░░░░ 60%                         │
│                                                             │
│                                                             │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

---

### 2.2 분석 결과 페이지

#### 와이어프레임

```
┌─────────────────────────────────────────────────────────────┐
│                        Header                               │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ← 뒤로가기                              [저장] [새 분석]   │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 📊 분석 결과                                        │   │
│  │                                                     │   │
│  │ 분석 ID: anls_abc123                                │   │
│  │ 분석 일시: 2026-01-07 10:30:00                      │   │
│  │ 입력 방식: 텍스트 설명                               │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 📋 프로젝트 요약                                    │   │
│  ├─────────────────────────────────────────────────────┤   │
│  │                                                     │   │
│  │  도메인: 이커머스 (쇼핑몰)                           │   │
│  │                                                     │   │
│  │  주요 기능:                                         │   │
│  │  • 회원가입     • 상품 관리    • 주문               │   │
│  │  • 결제         • 배송 추적                         │   │
│  │                                                     │   │
│  │  인증 방식: 소셜 로그인                              │   │
│  │  결제 수단: 카드, 계좌이체                           │   │
│  │                                                     │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  (아래 계속...)                                             │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

#### 서비스 분리 제안표

```
┌─────────────────────────────────────────────────────────────┐
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 🧩 서비스 분리 제안                                  │   │
│  ├─────────────────────────────────────────────────────┤   │
│  │                                                     │   │
│  │  ┌─────────────────────────────────────────────┐   │   │
│  │  │ 서비스명   │ 책임       │ 유형      │ DB    │   │   │
│  │  ├───────────┼───────────┼──────────┼────────┤   │   │
│  │  │ User      │ 회원가입,  │Supporting│user_db │   │   │
│  │  │ Service   │ 소셜로그인 │          │        │   │   │
│  │  ├───────────┼───────────┼──────────┼────────┤   │   │
│  │  │ Product   │ 상품 관리  │ Core     │prod_db │   │   │
│  │  │ Service   │           │          │        │   │   │
│  │  ├───────────┼───────────┼──────────┼────────┤   │   │
│  │  │ Order     │ 주문 처리  │ Core     │order_db│   │   │
│  │  │ Service   │           │          │        │   │   │
│  │  ├───────────┼───────────┼──────────┼────────┤   │   │
│  │  │ Payment   │ 결제 처리  │ Generic  │pay_db  │   │   │
│  │  │ Service   │           │          │        │   │   │
│  │  ├───────────┼───────────┼──────────┼────────┤   │   │
│  │  │ Shipping  │ 배송 추적  │ Generic  │ship_db │   │   │
│  │  │ Service   │           │          │        │   │   │
│  │  └───────────┴───────────┴──────────┴────────┘   │   │
│  │                                                     │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

#### MSA 구조 다이어그램

```
┌─────────────────────────────────────────────────────────────┐
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 🔗 MSA 구조 다이어그램                               │   │
│  ├─────────────────────────────────────────────────────┤   │
│  │                                                     │   │
│  │                  ┌──────────┐                       │   │
│  │                  │API       │                       │   │
│  │                  │Gateway   │                       │   │
│  │                  └────┬─────┘                       │   │
│  │         ┌────────────┬┴───────────┬────────────┐   │   │
│  │         │            │            │            │   │   │
│  │         ▼            ▼            ▼            ▼   │   │
│  │    ┌────────┐  ┌────────┐  ┌────────┐  ┌────────┐ │   │
│  │    │ User   │  │Product │  │ Order  │  │Payment │ │   │
│  │    │Service │  │Service │  │Service │  │Service │ │   │
│  │    └────────┘  └────────┘  └───┬────┘  └────────┘ │   │
│  │         │            │         │            │      │   │
│  │         │            │         │            │      │   │
│  │         │            └────────►│◄───────────┘      │   │
│  │         │                      │                   │   │
│  │         └─────────────────────►│                   │   │
│  │                                │                   │   │
│  │                                ▼                   │   │
│  │                          ┌──────────┐              │   │
│  │                          │Shipping  │              │   │
│  │                          │Service   │              │   │
│  │                          └──────────┘              │   │
│  │                                                     │   │
│  │    ───── REST     ─ ─ ─ Event                      │   │
│  │                                                     │   │
│  │    🔵 Core  🟢 Supporting  ⚪ Generic               │   │
│  │                                                     │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

#### 서비스 상세 정보 (확장 가능)

```
┌─────────────────────────────────────────────────────────────┐
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 📦 서비스 상세                                       │   │
│  ├─────────────────────────────────────────────────────┤   │
│  │                                                     │   │
│  │  ▼ User Service                         [Supporting]│   │
│  │  ┌─────────────────────────────────────────────┐   │   │
│  │  │ 책임: 회원가입, 소셜 로그인                   │   │   │
│  │  │                                             │   │   │
│  │  │ 엔드포인트:                                  │   │   │
│  │  │ • /users                                    │   │   │
│  │  │ • /auth/social                              │   │   │
│  │  │                                             │   │   │
│  │  │ 데이터베이스: user_db                        │   │   │
│  │  │                                             │   │   │
│  │  │ 의존성: 없음                                 │   │   │
│  │  └─────────────────────────────────────────────┘   │   │
│  │                                                     │   │
│  │  ▶ Product Service                          [Core] │   │
│  │  ──────────────────────────────────────────────────│   │
│  │                                                     │   │
│  │  ▶ Order Service                            [Core] │   │
│  │  ──────────────────────────────────────────────────│   │
│  │                                                     │   │
│  │  ▶ Payment Service                       [Generic] │   │
│  │  ──────────────────────────────────────────────────│   │
│  │                                                     │   │
│  │  ▶ Shipping Service                      [Generic] │   │
│  │  ──────────────────────────────────────────────────│   │
│  │                                                     │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

#### 권고사항

```
┌─────────────────────────────────────────────────────────────┐
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 💡 권고사항                                          │   │
│  ├─────────────────────────────────────────────────────┤   │
│  │                                                     │   │
│  │  ℹ️ 정보                                            │   │
│  │  ┌─────────────────────────────────────────────┐   │   │
│  │  │ 결제 서비스는 외부 PG사 연동이 필요합니다.     │   │   │
│  │  │                                             │   │   │
│  │  │ 💬 Stripe, 토스페이먼츠 등을 고려해보세요.    │   │   │
│  │  └─────────────────────────────────────────────┘   │   │
│  │                                                     │   │
│  │  ⚠️ 경고                                            │   │
│  │  ┌─────────────────────────────────────────────┐   │   │
│  │  │ Order와 Inventory 간 데이터 정합성에          │   │   │
│  │  │ 주의가 필요합니다.                            │   │   │
│  │  │                                             │   │   │
│  │  │ 💬 Saga 패턴 또는 이벤트 소싱을 고려하세요.   │   │   │
│  │  └─────────────────────────────────────────────┘   │   │
│  │                                                     │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

#### 통신 방식 제안

```
┌─────────────────────────────────────────────────────────────┐
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 📡 통신 방식 제안                                    │   │
│  ├─────────────────────────────────────────────────────┤   │
│  │                                                     │   │
│  │  ┌─────────────────────────────────────────────┐   │   │
│  │  │ From        │ To          │ 방식   │ 이유   │   │   │
│  │  ├─────────────┼─────────────┼────────┼────────┤   │   │
│  │  │ Order       │ User        │ REST   │ 즉시   │   │   │
│  │  │ Service     │ Service     │        │ 응답   │   │   │
│  │  ├─────────────┼─────────────┼────────┼────────┤   │   │
│  │  │ Order       │ Product     │ REST   │ 재고   │   │   │
│  │  │ Service     │ Service     │        │ 확인   │   │   │
│  │  ├─────────────┼─────────────┼────────┼────────┤   │   │
│  │  │ Order       │ Payment     │ Event  │ 비동기 │   │   │
│  │  │ Service     │ Service     │        │ 처리   │   │   │
│  │  ├─────────────┼─────────────┼────────┼────────┤   │   │
│  │  │ Order       │ Shipping    │ Event  │ 비동기 │   │   │
│  │  │ Service     │ Service     │        │ 처리   │   │   │
│  │  └─────────────┴─────────────┴────────┴────────┘   │   │
│  │                                                     │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

---

## 3. 컴포넌트 구조

### 3.1 컴포넌트 트리

```
App
├── Header
│   ├── Logo
│   └── NavigationButton (분석하기)
│
├── Routes
│   ├── MainPage (/)
│   │   ├── HeroSection
│   │   ├── TabSelector
│   │   │   ├── CodeUploadTab
│   │   │   │   ├── LanguageSelector
│   │   │   │   ├── FileDropzone
│   │   │   │   └── DescriptionInput
│   │   │   │
│   │   │   └── TextDescriptionTab
│   │   │       ├── LanguageSelector
│   │   │       └── DescriptionTextarea
│   │   │
│   │   ├── AnalyzeButton
│   │   └── LoadingOverlay
│   │
│   └── AnalysisResultPage (/analysis/:id)
│       ├── ResultHeader
│       ├── ProjectSummary
│       ├── ServiceTable
│       ├── ArchitectureDiagram
│       ├── ServiceDetailList
│       │   └── ServiceDetailItem (확장 가능)
│       ├── RecommendationList
│       │   └── RecommendationItem
│       └── CommunicationTable
│
└── Footer
```

### 3.2 주요 컴포넌트 설명

| 컴포넌트 | 설명 |
|----------|------|
| Header | 상단 네비게이션 바 |
| TabSelector | 코드 업로드 / 텍스트 설명 탭 전환 |
| FileDropzone | 드래그 앤 드롭 파일 업로드 |
| LanguageSelector | 언어/프레임워크 선택 라디오 버튼 |
| LoadingOverlay | 분석 중 로딩 화면 |
| ProjectSummary | 프로젝트 요약 카드 |
| ServiceTable | 서비스 분리 제안 테이블 |
| ArchitectureDiagram | MSA 구조 다이어그램 (시각화) |
| ServiceDetailItem | 서비스 상세 정보 아코디언 |
| RecommendationItem | 권고사항 카드 |
| CommunicationTable | 통신 방식 제안 테이블 |

---

## 4. 상태 관리

### 4.1 전역 상태 (Context 또는 Redux)

```javascript
// 분석 상태
const AnalysisState = {
  // 입력 상태
  inputType: 'code' | 'text',
  language: 'java-spring' | 'node-express' | 'react' | null,
  file: File | null,
  description: string,
  
  // 분석 상태
  isAnalyzing: boolean,
  progress: number,  // 0-100
  
  // 결과 상태
  result: AnalysisResult | null,
  error: string | null
};
```

### 4.2 분석 결과 타입

```typescript
interface AnalysisResult {
  analysisId: string;
  status: 'completed' | 'failed';
  inputType: 'code' | 'text';
  
  summary: {
    domain: string;
    detectedLanguage?: string;
    totalFiles?: number;
    analyzedFiles?: number;
  };
  
  parsed?: {
    domain: string;
    features: string[];
    authMethod?: string[];
    paymentMethod?: string[];
  };
  
  services: Service[];
  diagram: DiagramData;
  recommendations: Recommendation[];
  createdAt: string;
}

interface Service {
  name: string;
  responsibility: string;
  type: 'Core' | 'Supporting' | 'Generic';
  endpoints: string[];
  database: string;
  dependencies: string[];
  communicationType?: string;
}

interface DiagramData {
  nodes: { id: string; label: string; type: string }[];
  edges: { from: string; to: string; label: string }[];
}

interface Recommendation {
  type: 'info' | 'warning' | 'error';
  message: string;
  suggestion?: string;
  relatedService?: string;
}
```

---

## 5. UI/UX 가이드

### 5.1 색상 팔레트

| 용도 | 색상 | Hex |
|------|------|-----|
| Primary | 파랑 | #3B82F6 |
| Secondary | 회색 | #6B7280 |
| Success | 초록 | #10B981 |
| Warning | 노랑 | #F59E0B |
| Error | 빨강 | #EF4444 |
| Background | 흰색 | #FFFFFF |
| Surface | 연회색 | #F9FAFB |
| Text Primary | 진회색 | #111827 |
| Text Secondary | 회색 | #6B7280 |

### 5.2 서비스 유형별 색상

| 유형 | 색상 | 배지 스타일 |
|------|------|------------|
| Core | 파랑 | 🔵 bg-blue-100 text-blue-800 |
| Supporting | 초록 | 🟢 bg-green-100 text-green-800 |
| Generic | 회색 | ⚪ bg-gray-100 text-gray-800 |

### 5.3 타이포그래피

| 요소 | 크기 | 굵기 |
|------|------|------|
| 페이지 제목 | 24px | Bold |
| 섹션 제목 | 18px | SemiBold |
| 본문 | 14px | Regular |
| 캡션 | 12px | Regular |

### 5.4 반응형 브레이크포인트

| 이름 | 크기 | 설명 |
|------|------|------|
| Mobile | < 640px | 모바일 |
| Tablet | 640px - 1024px | 태블릿 |
| Desktop | > 1024px | 데스크톱 |

---

## 6. 인터랙션

### 6.1 파일 업로드

```
1. 드래그 앤 드롭 또는 클릭으로 파일 선택
2. 파일 형식 검증 (.zip만 허용)
3. 파일 크기 검증 (50MB 이하)
4. 유효하면 파일명 표시, 무효하면 에러 메시지
```

### 6.2 분석 시작

```
1. 입력 검증
   - 코드 업로드: 파일 + 언어 선택 필수
   - 텍스트 설명: 50자 이상 필수
2. 검증 실패 시 에러 메시지 표시
3. 검증 성공 시 로딩 화면 표시
4. API 호출
5. 성공 시 결과 페이지로 이동
6. 실패 시 에러 메시지 표시
```

### 6.3 결과 저장

```
1. 저장 버튼 클릭
2. 저장 완료 토스트 메시지 표시
3. (이미 저장된 경우 "이미 저장됨" 표시)
```

---

## 7. 에러 처리

### 7.1 에러 메시지

| 상황 | 메시지 |
|------|--------|
| 파일 형식 오류 | .zip 파일만 업로드 가능합니다. |
| 파일 크기 초과 | 파일 크기는 50MB 이하여야 합니다. |
| 텍스트 부족 | 최소 50자 이상 입력해주세요. |
| 분석 실패 | 분석 중 오류가 발생했습니다. 다시 시도해주세요. |
| 네트워크 오류 | 서버와 연결할 수 없습니다. 인터넷 연결을 확인해주세요. |
| 결과 없음 | 분석 결과를 찾을 수 없습니다. |

### 7.2 에러 UI

```
┌─────────────────────────────────────────────────────────────┐
│                                                             │
│     ┌─────────────────────────────────────────────────┐    │
│     │  ❌ 오류 발생                                    │    │
│     │                                                 │    │
│     │  분석 중 오류가 발생했습니다.                     │    │
│     │  다시 시도해주세요.                              │    │
│     │                                                 │    │
│     │                    [다시 시도]                   │    │
│     └─────────────────────────────────────────────────┘    │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

---

## 8. 다이어그램 시각화

### 8.1 라이브러리 선택

| 라이브러리 | 장점 | 단점 |
|------------|------|------|
| React Flow | React 친화적, 인터랙티브 | 학습 곡선 |
| D3.js | 유연성 높음 | 복잡함 |
| Mermaid | 간단, 텍스트 기반 | 커스터마이징 제한 |

**추천: React Flow** - React 프로젝트에 적합하고 드래그, 줌 등 인터랙션 지원

### 8.2 노드 스타일

```
┌─────────────────┐
│   🔵 Core       │  ← 서비스 유형 배지
│                 │
│  Order Service  │  ← 서비스명
│                 │
└─────────────────┘
```

### 8.3 엣지 스타일

| 통신 방식 | 스타일 |
|----------|--------|
| REST | 실선 화살표 |
| Event | 점선 화살표 |
| gRPC | 이중 실선 화살표 |

---

## 변경 이력

| 버전 | 날짜 | 변경 내용 | 작성자 |
|------|------|----------|--------|
| 1.0 | 2026-01-07 | 최초 작성 | - |
